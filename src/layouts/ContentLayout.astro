---
import Layout from "@/layouts/Layout.astro"
import Header from "@/components/Header.astro"
import Footer from "@/components/Footer.astro"
import Button from "@/components/Button.astro"

interface Props {
  title: string
  description: string
}

const { title, description } = Astro.props
---

<Layout title={title} description={description} bodyClass="bg-background text-foreground">
  <slot name="head" slot="head" />
  <div class="min-h-screen flex flex-col">
    <Header logoHref="/" />

    <main class="flex-1 w-full">
      <div class="relative overflow-hidden">
        <div class="relative z-10 max-w-3xl mx-auto px-6 pt-12 pb-8">
          <slot name="badge" />
        </div>
      </div>

      <article class="content-prose max-w-3xl mx-auto w-full px-6 pb-12">
        <slot />
      </article>

      <!-- CTA Banner -->
      <div class="max-w-3xl mx-auto px-6">
        <div class="corner-accent corner-accent-diagonal relative overflow-hidden">
          <div class="relative z-10 text-center py-10 px-6">
            <p class="section-kicker mb-3">Try it yourself</p>
            <p class="text-lg text-muted-foreground mb-6">Ready to write Markdown with real-time preview, diagrams and math?</p>
            <Button href="/documents" size="md">
              Open CodeInk editor
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14" /><path d="m12 5 7 7-7 7" /></svg>
            </Button>
          </div>
        </div>
      </div>

      <div class="h-16"></div>
    </main>

    <Footer />
  </div>
</Layout>

<script>
  import { initCopyButtons } from "@/scripts/copy-handler"

  const article = document.querySelector(".content-prose")
  if (article) {
    initCopyButtons(article as HTMLElement)
  }
</script>
