---
import Logo from "@/assets/logo.svg"
import ViewTabs from "@/components/ViewTabs.astro"
import ThemeToggle from "@/components/ThemeToggle.astro"

interface Props {
  logoHref?: string
  showTabs?: boolean
  showBrand?: boolean
  showBrandOnMobile?: boolean
}

const { logoHref = "/", showTabs = false, showBrand = true, showBrandOnMobile = false } = Astro.props
---

<nav class="site-header sticky top-0 z-50 grid grid-cols-[auto_1fr_auto] items-center px-3 sm:px-6 py-1.5 border-b border-border/50 [background:var(--surface)] [box-shadow:0_0_0_1px_rgba(245,158,11,0.05),0_4px_24px_rgba(0,0,0,0.4),0_0_48px_rgba(245,158,11,0.04)]">
  <div class="flex items-center gap-2 sm:gap-3">
    <a href={logoHref} class="flex items-center gap-2.5 hover:opacity-80 transition-opacity">
      <Logo class="w-7 h-7" aria-hidden="true" transition:name="logo" />
      {showBrand && (
        <span
          class:list={[
            "text-lg font-bold tracking-tight",
            showBrandOnMobile ? "inline" : "hidden sm:inline",
          ]}
          transition:name="brand"
        >
          CodeInk
        </span>
      )}
    </a>
    <slot name="left" />
  </div>

  <div class="flex items-center justify-center">
    {showTabs ? <ViewTabs /> : <slot name="center" />}
  </div>

  <div class="flex items-center justify-end gap-3">
    <slot />
    <ThemeToggle />
  </div>
</nav>
